<!DOCTYPE html>
<html>
<head>
    <title>Test Game Functionality</title>
</head>
<body>
    <h1>Testing Game Functionality</h1>
    <div id="output"></div>
    <input type="text" id="input" value="help">
    
    <script src="http://localhost:5000/index.js"></script>
    <script src="http://localhost:5000/game-disks/demo-disk.js"></script>
    
    <script>
        setTimeout(() => {
            if (typeof loadDisk === 'function') {
                loadDisk(demoDisk);
                console.log('Game loaded successfully');
                
                // Test help command
                setTimeout(() => {
                    const input = document.getElementById('input');
                    const event = new KeyboardEvent('keypress', {
                        key: 'Enter',
                        keyCode: 13,
                        which: 13
                    });
                    input.dispatchEvent(event);
                    
                    setTimeout(() => {
                        const output = document.getElementById('output').innerHTML;
                        if (output.length > 100) {
                            document.body.innerHTML += '<h2 style="color: green;">✓ Game is working!</h2>';
                        } else {
                            document.body.innerHTML += '<h2 style="color: red;">✗ Game not working properly</h2>';
                        }
                    }, 1000);
                }, 500);
            } else {
                document.body.innerHTML += '<h2 style="color: red;">✗ Failed to load game engine</h2>';
            }
        }, 1000);
    </script>
</body>
</html>