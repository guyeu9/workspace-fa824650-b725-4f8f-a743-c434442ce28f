<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§»åŠ¨ç«¯å¿«æ·æ“ä½œåŒºä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f7fa;
        }
        
        .test-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .test-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #6366f1;
            padding-bottom: 8px;
        }
        
        .iframe-container {
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .iframe-container iframe {
            width: 100%;
            border: none;
        }
        
        .iframe-label {
            text-align: center;
            font-weight: bold;
            color: #666;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .status {
            padding: 10px 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .checklist {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        ul.checks {
            list-style: none;
            padding-left: 0;
        }
        
        ul.checks li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        ul.checks li:before {
            content: "âœ… ";
            color: #28a745;
            font-weight: bold;
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .test-button {
            padding: 12px 20px;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            text-align: center;
            transition: transform 0.2s;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center; color: #6366f1; margin-bottom: 30px;">
        ğŸ“± ç§»åŠ¨ç«¯å¿«æ·æ“ä½œåŒºä¿®å¤æµ‹è¯•
    </h1>
    
    <div class="test-section">
        <div class="test-title">ğŸ¯ æµ‹è¯•ç›®æ ‡</div>
        <div class="status checklist">
            <strong>ä¿®å¤å†…å®¹ï¼š</strong>
            <ul class="checks">
                <li>å¿«æ·æ“ä½œåŒºæ˜¾ç¤ºä¸º2è¡Œï¼Œæ¯è¡Œ4ä¸ªæŒ‰é’®</li>
                <li>æŒ‡å—æŒ‰é’®ç§»åˆ°æœ€åä½ç½®</li>
                <li>å„å±å¹•å°ºå¯¸ä¸‹ä¿æŒä¸€è‡´å¸ƒå±€</li>
                <li>æŒ‰é’®å¤§å°å’Œé—´è·è‡ªé€‚åº”ä¼˜åŒ–</li>
            </ul>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ“± ç§»åŠ¨ç«¯è§†å›¾æµ‹è¯•</div>
        
        <div class="iframe-label">360px å®½åº¦ (è¶…å°å±å¹•æ‰‹æœº)</div>
        <div class="iframe-container">
            <iframe src="http://localhost:5000/index.html" width="360" height="700"></iframe>
        </div>
        
        <div class="iframe-label">480px å®½åº¦ (å°å±å¹•æ‰‹æœº)</div>
        <div class="iframe-container">
            <iframe src="http://localhost:5000/index.html" width="480" height="700"></iframe>
        </div>
        
        <div class="iframe-label">768px å®½åº¦ (å¹³æ¿ç«–å±)</div>
        <div class="iframe-container">
            <iframe src="http://localhost:5000/index.html" width="768" height="600"></iframe>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ” éªŒè¯æ£€æŸ¥ç‚¹</div>
        <div class="status info">
            <strong>è¯·åœ¨æ¯ä¸ªè§†å›¾ä¸­éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š</strong>
            <ul class="checks">
                <li>å¿«æ·æ“ä½œåŒºæ˜¾ç¤ºä¸º2è¡Œï¼Œä¸æ˜¯3è¡Œ</li>
                <li>æ¯è¡Œæ­£å¥½æ˜¾ç¤º4ä¸ªæŒ‰é’®</li>
                <li>æŒ‡å—æŒ‰é’® ğŸ“š åœ¨ç¬¬äºŒè¡Œçš„æœ€åä½ç½®</li>
                <li>æŒ‰é’®å¤§å°é€‚ä¸­ï¼Œæ–‡å­—æ¸…æ™°å¯è¯»</li>
                <li>æŒ‰é’®é—´è·åˆç†ï¼Œæ²¡æœ‰é‡å </li>
                <li>æ•´ä½“å¸ƒå±€ç´§å‡‘ï¼Œä¸å ç”¨è¿‡å¤šå‚ç›´ç©ºé—´</li>
            </ul>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">âš™ï¸ æŠ€æœ¯å®ç°è¯´æ˜</div>
        <div class="status info">
            <strong>CSS ä¿®å¤è¦ç‚¹ï¼š</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li><strong>å¸ƒå±€æ§åˆ¶ï¼š</strong>ä½¿ç”¨ <code>flex: 1 1 calc(25% - Xpx)</code> ç¡®ä¿æ¯è¡Œ4ä¸ªæŒ‰é’®</li>
                <li><strong>é«˜åº¦é™åˆ¶ï¼š</strong>è®¾ç½® <code>max-height</code> é™åˆ¶ä¸º2è¡Œé«˜åº¦</li>
                <li><strong>è¾¹è·æ§åˆ¶ï¼š</strong>ä½¿ç”¨ <code>:nth-child()</code> é€‰æ‹©å™¨æ§åˆ¶æ¢è¡Œ</li>
                <li><strong>å“åº”å¼ï¼š</strong>åœ¨ä¸åŒæ–­ç‚¹è°ƒæ•´æŒ‰é’®å¤§å°å’Œé—´è·</li>
                <li><strong>æŒ‰é’®é¡ºåºï¼š</strong>HTMLä¸­å°†æŒ‡å—æŒ‰é’®ç§»åˆ°æœ€å</li>
            </ul>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸš€ å¿«é€Ÿæµ‹è¯•</div>
        <div class="button-grid">
            <a href="http://localhost:5000/index.html" target="_blank" class="test-button">
                ğŸ”— æ‰“å¼€å®Œæ•´åº”ç”¨
            </a>
            <a href="javascript:void(0)" onclick="window.location.reload()" class="test-button">
                ğŸ”„ åˆ·æ–°æµ‹è¯•é¡µé¢
            </a>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">ğŸ“Š ä¿®å¤æ•ˆæœå¯¹æ¯”</div>
        <div class="status success">
            <strong>ä¿®å¤å‰ï¼š</strong> å¿«æ·æ“ä½œåŒºæ˜¾ç¤ºä¸º3è¡Œï¼Œæ¯è¡Œ3ä¸ªæŒ‰é’®ï¼ŒæŒ‡å—æŒ‰é’®åœ¨ç¬¬ä¸€è¡Œ
        </div>
        <div class="status success">
            <strong>ä¿®å¤åï¼š</strong> å¿«æ·æ“ä½œåŒºæ˜¾ç¤ºä¸º2è¡Œï¼Œæ¯è¡Œ4ä¸ªæŒ‰é’®ï¼ŒæŒ‡å—æŒ‰é’®åœ¨ç¬¬äºŒè¡Œæœ«å°¾
        </div>
        <div class="status warning">
            <strong>ä¼˜åŒ–æ•ˆæœï¼š</strong> å‚ç›´ç©ºé—´èŠ‚çœçº¦33%ï¼Œå¸ƒå±€æ›´ç´§å‡‘ç¾è§‚
        </div>
    </div>
    
    <script>
        // è‡ªåŠ¨éªŒè¯è„šæœ¬
        function verifyButtonLayout() {
            console.log('å¼€å§‹éªŒè¯å¿«æ·æ“ä½œåŒºå¸ƒå±€...');
            
            const iframe = document.querySelector('iframe');
            if (!iframe) {
                console.log('ç­‰å¾…iframeåŠ è½½...');
                setTimeout(verifyButtonLayout, 2000);
                return;
            }
            
            iframe.onload = function() {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    const quickActions = iframeDoc.querySelector('.quick-actions');
                    const buttons = quickActions?.querySelectorAll('.quick-btn');
                    
                    if (buttons && buttons.length === 8) {
                        console.log('âœ… æŒ‰é’®æ•°é‡æ­£ç¡®ï¼š8ä¸ª');
                        
                        // æ£€æŸ¥æŒ‡å—æŒ‰é’®ä½ç½®
                        const guideButton = Array.from(buttons).find(btn => 
                            btn.textContent.includes('æŒ‡å—'));
                        
                        if (guideButton) {
                            const guideIndex = Array.from(buttons).indexOf(guideButton);
                            if (guideIndex === 7) {
                                console.log('âœ… æŒ‡å—æŒ‰é’®ä½ç½®æ­£ç¡®ï¼šç¬¬8ä¸ªï¼ˆæœ€åï¼‰');
                            } else {
                                console.log('âŒ æŒ‡å—æŒ‰é’®ä½ç½®é”™è¯¯ï¼šç¬¬' + (guideIndex + 1) + 'ä¸ª');
                            }
                        }
                        
                        // æ£€æŸ¥å¿«æ·æ“ä½œåŒºé«˜åº¦
                        const quickActionsHeight = quickActions.offsetHeight;
                        const maxHeight = parseInt(window.getComputedStyle(quickActions).maxHeight);
                        
                        if (quickActionsHeight <= maxHeight + 5) { // å…è®¸5pxè¯¯å·®
                            console.log('âœ… å¿«æ·æ“ä½œåŒºé«˜åº¦ç¬¦åˆé¢„æœŸï¼š' + quickActionsHeight + 'px');
                        } else {
                            console.log('âŒ å¿«æ·æ“ä½œåŒºé«˜åº¦è¶…å‡ºé¢„æœŸï¼š' + quickActionsHeight + 'px > ' + maxHeight + 'px');
                        }
                        
                    } else {
                        console.log('âŒ æŒ‰é’®æ•°é‡é”™è¯¯ï¼š' + (buttons ? buttons.length : 0) + 'ä¸ª');
                    }
                    
                } catch (error) {
                    console.log('âŒ éªŒè¯å¤±è´¥ï¼š' + error.message);
                }
            };
        }
        
        // é¡µé¢åŠ è½½åå¼€å§‹éªŒè¯
        setTimeout(verifyButtonLayout, 3000);
    </script>
</body>
</html>