# 修复游戏选择项显示和状态更新通知问题

## 问题分析

### 问题1：选择项显示"未知选项"
- **原因**：在 `page.tsx` 第 1481 行，代码使用 `choice.choice` 获取选项文本，但数据加载时将 `option.choice` 映射到 `text` 字段
- **影响**：所有选择项都显示为"未知选项"

### 问题2：状态更新通知显示空内容
- **原因**：代码检查 `choice.effect` 和 `choice.status_update` 是否存在，但空字符串 `""` 在 JavaScript 中是 truthy 的
- **影响**：即使状态更新字段为空，也会显示空的状态更新通知

## 修复方案

### 1. 修复选择项文本显示
修改 `page.tsx` 第 1481 行：
- 从 `choice.choice` 改为 `choice.text`
- 添加回退逻辑：`choice.text || choice.choice || '未知选项'`

### 2. 修复状态更新通知逻辑
修改 `page.tsx` 第 1495-1519 行：
- 检查 `choice.effect` 是否为非空字符串
- 检查 `choice.status_update` 是否为非空字符串
- 检查 `choice.status_changes` 数组是否有元素
- 只有当内容实际存在时才添加到输出历史

## 修改文件
- `src/app/page.tsx`：修复选择项显示和状态更新通知逻辑