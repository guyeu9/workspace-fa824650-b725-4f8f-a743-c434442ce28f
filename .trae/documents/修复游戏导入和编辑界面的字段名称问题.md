# 修复游戏导入和编辑界面的字段名称问题

## 问题分析

### 问题1：导入JSON文件后界面不刷新
- 在 `game-library/page.tsx` 中，导入成功后调用了 `loadGames()`
- 但 `loadGames()` 函数可能没有正确触发界面状态更新
- 需要确保导入成功后界面能够自动刷新

### 问题2：编辑界面使用旧字段名称
- `studio/page.tsx` 中的 `Branch` 和 `Choice` 接口使用旧字段名称：
  - `chapter` → 应该是 `branch_title`
  - `scene_detail` → 应该是 `content`
  - `choices` → 应该是 `options`
  - `next_branch` → 应该是 `target_branch_id`
  - `choice` → 应该是 `option_text`
  - `status_update` → 应该是 `status_changes`
- `normalizeGameData` 函数使用旧字段名称
- `initialGameData` 使用旧字段名称

## 修复步骤

### 1. 修复 game-library/page.tsx 中的导入刷新问题
- 检查 `loadGames()` 函数实现
- 确保导入成功后正确调用 `loadGames()`
- 添加导入成功后的成功提示

### 2. 更新 studio/page.tsx 中的字段名称
- 更新 `Branch` 接口，使用新字段名称
- 更新 `Choice` 接口，使用新字段名称
- 更新 `GameStateConfig` 接口，使用新字段名称
- 更新 `GameData` 接口，使用新字段名称
- 更新 `normalizeGameData` 函数，使用新字段名称
- 更新 `initialGameData`，使用新字段名称
- 更新所有相关的处理函数

### 3. 测试修复效果
- 测试导入JSON文件后界面是否自动刷新
- 测试编辑界面是否正确读取新规范的数据
- 测试创建新游戏是否正常工作

## 预期效果

修复后：
- ✅ 导入JSON文件成功后界面自动刷新
- ✅ 显示明确的成功提示
- ✅ 编辑界面能够正确读取新规范的数据
- ✅ 创建新游戏正常工作
