# 用户指南

## 版本信息

**当前版本**：v1.1.0  
**更新日期**：2026-01-11

## 1. 系统概述

欢迎使用互动式故事游戏编辑器和播放器系统！这是一个功能强大的平台，允许您创建、分享和玩互动式故事游戏。

### 1.1 主要功能

- **游戏库**：浏览、管理和玩游戏
- **游戏编辑器**：创建和编辑互动式故事游戏
- **增强编辑器**：高级编辑功能，支持可视化编辑
- **工作室**：团队协作和项目管理
- **社区功能**：评论、评分和分享
- **移动端支持**：支持 Web 和 Android 平台

### 1.2 系统要求

| 平台 | 要求 |
|------|------|
| Web | 现代浏览器（Chrome、Firefox、Safari、Edge） |
| Android | Android 8.0 或更高版本 |

## 2. 开始使用

### 2.1 注册和登录

#### 2.1.1 注册

1. 访问系统首页
2. 点击右上角的 "注册" 按钮
3. 填写注册信息：
   - 用户名
   - 邮箱
   - 密码
4. 点击 "注册" 完成注册

#### 2.1.2 登录

1. 访问系统首页
2. 点击右上角的 "登录" 按钮
3. 输入用户名/邮箱和密码
4. 点击 "登录" 进入系统

### 2.2 找回密码

1. 在登录页面点击 "忘记密码"
2. 输入注册邮箱
3. 检查邮箱获取重置链接
4. 点击链接重置密码

## 3. 游戏库

### 3.1 浏览游戏

1. 点击顶部导航栏的 "游戏库"
2. 浏览推荐游戏或搜索特定游戏
3. 使用过滤和排序功能查找游戏

### 3.2 玩游戏

1. 找到您想玩的游戏
2. 点击游戏卡片进入游戏详情页
3. 点击 "开始游戏" 按钮
4. 根据游戏提示进行选择和互动

### 3.3 管理游戏

#### 3.3.1 添加游戏到库

1. 找到您想添加的游戏
2. 点击 "添加到库" 按钮
3. 游戏将出现在您的个人游戏库中

#### 3.3.2 编辑游戏

1. 在个人游戏库中找到游戏
2. 点击 "编辑" 按钮
3. 进入编辑器进行修改

#### 3.3.3 删除游戏

1. 在个人游戏库中找到游戏
2. 点击 "删除" 按钮
3. 确认删除操作

### 3.4 导入导出游戏

#### 3.4.1 导入游戏

1. 点击 "导入游戏" 按钮
2. 选择要导入的 JSON 或 ZIP 文件
3. 等待导入完成
4. 游戏将出现在您的游戏库中

#### 3.4.2 导出游戏

1. 在个人游戏库中选择游戏
2. 点击 "导出" 按钮
3. 选择导出格式（JSON 或 ZIP）
4. 保存文件到本地

#### 3.4.3 批量导出

1. 选择多个游戏
2. 点击 "批量导出" 按钮
3. 系统将生成一个 ZIP 文件
4. 保存文件到本地

## 4. 游戏编辑器

### 4.1 进入编辑器

1. 点击顶部导航栏的 "游戏编辑器"
2. 或在游戏库中点击 "创建新游戏"

### 4.2 创建游戏

1. 输入游戏标题和描述
2. 设置游戏背景（可选）
3. 开始创建分支和选项

#### 4.2.1 上传游戏背景图片

系统支持上传游戏背景图片，图片将自动优化并上传到图床服务：

1. 在游戏编辑页面找到 "背景图片" 上传区域
2. 点击 "选择文件" 或直接拖拽图片到上传区域
3. 系统会自动：
   - 验证图片格式（支持 JPG、PNG、WebP、GIF）
   - 检查图片大小（最大 10MB）
   - 优化和压缩图片
   - 上传到 Chevereto 图床服务
   - 保存图片链接

**支持的图片格式**：
- JPEG (.jpg, .jpeg)
- PNG (.png)
- WebP (.webp)
- GIF (.gif)

**图片大小限制**：
- 单个图片最大 10MB
- 系统会自动压缩大图片

**图片优化**：
- 自动转换为 WebP 格式（节省 25-35% 空间）
- 智能压缩保持图片质量
- 生成缩略图用于快速预览

**缓存机制**：
- 相同图片不会重复上传
- 系统会自动检测并使用已上传的图片
- 提升上传速度，节省存储空间

**图床服务**：
- 使用 Chevereto API 进行图片托管
- 提供稳定的图片链接
- 支持实时上传进度
- 自动错误处理和重试

**手动输入图片链接**：
- 除了上传图片，您也可以直接输入或粘贴图片链接
- 支持外部图片URL（如来自其他图床或网络资源）
- 输入框会自动验证URL格式
- 支持一键复制图片链接

**常见问题**：
- **Q: 图片上传失败怎么办？**
  A: 检查网络连接，重试上传。如果持续失败，可以尝试手动输入图片链接。

- **Q: 如何使用外部图片？**
  A: 在背景图片输入框中直接粘贴或输入图片URL即可。系统会自动验证并使用该链接。

- **Q: 图片加载失败显示什么？**
  A: 预览区域会显示"图片加载失败"的红色警告图标，提示您检查链接是否正确。

- **Q: 上传的图片会占用存储空间吗？**
  A: 是的，但系统有缓存机制，相同图片不会重复上传，可以有效节省空间。

### 4.3 编辑分支

#### 4.3.1 添加分支

1. 点击 "添加分支" 按钮
2. 输入分支标题和内容
3. 设置分支背景（可选）

#### 4.3.2 编辑分支

1. 点击分支卡片进入编辑模式
2. 修改分支标题和内容
3. 点击 "保存" 按钮

#### 4.3.3 删除分支

1. 点击分支卡片上的 "删除" 按钮
2. 确认删除操作

### 4.4 编辑选项

#### 4.4.1 添加选项

1. 在分支编辑页面点击 "添加选项"
2. 输入选项文本
3. 选择目标分支
4. 设置选项条件（可选）

#### 4.4.2 编辑选项

1. 点击选项卡片进入编辑模式
2. 修改选项文本和目标分支
3. 调整选项条件（可选）
4. 点击 "保存" 按钮

#### 4.4.3 删除选项

1. 点击选项卡片上的 "删除" 按钮
2. 确认删除操作

### 4.5 预览和测试

1. 点击编辑器右上角的 "预览" 按钮
2. 在预览窗口测试游戏流程
3. 调整游戏逻辑和内容

### 4.6 保存和导出

#### 4.6.1 自动保存

系统会自动保存您的编辑内容，无需手动保存。

#### 4.6.2 导出游戏

1. 点击编辑器右上角的 "导出" 按钮
2. 选择导出格式
3. 保存文件到本地

## 5. 增强编辑器

### 5.1 进入增强编辑器

1. 点击顶部导航栏的 "增强编辑器"
2. 或在游戏库中选择游戏，点击 "使用增强编辑器"

### 5.2 可视化编辑

1. 使用拖拽方式创建分支和连接
2. 直观地查看游戏流程图
3. 轻松调整游戏结构

### 5.3 高级功能

#### 5.3.1 资产管理

1. 点击左侧菜单栏的 "资产"
2. 上传和管理游戏资产
3. 将资产应用到游戏中

#### 5.3.2 变量和条件

1. 点击左侧菜单栏的 "变量"
2. 创建和管理游戏变量
3. 在选项中使用变量条件

#### 5.3.3 后果系统

1. 编辑选项时点击 "添加后果"
2. 设置选项触发的后果
3. 支持变量修改、消息显示等

## 6. 工作室

### 6.1 进入工作室

1. 点击顶部导航栏的 "工作室"
2. 或在游戏库中选择游戏，点击 "打开工作室"

### 6.2 项目管理

#### 6.2.1 创建项目

1. 点击 "创建项目" 按钮
2. 输入项目名称和描述
3. 设置项目成员（可选）
4. 点击 "创建" 按钮

#### 6.2.2 管理项目

1. 在项目列表中选择项目
2. 查看项目详情和成员
3. 调整项目设置

### 6.3 版本控制

1. 在项目页面点击 "版本历史"
2. 查看和管理版本
3. 恢复到之前的版本

### 6.4 协作功能

1. 邀请团队成员加入项目
2. 分配任务和角色
3. 查看成员活动日志

## 7. 导入导出功能

### 7.1 导入游戏

系统支持导入两种格式的游戏文件：

1. **JSON 格式**：单个游戏的 JSON 文件
2. **ZIP 格式**：包含多个游戏的压缩文件，支持资产文件

#### 7.1.1 从本地导入

1. 点击 "导入游戏" 按钮
2. 选择要导入的文件
3. 等待导入完成
4. 游戏将出现在您的游戏库中

#### 7.1.2 从社区导入

1. 在社区游戏页面找到游戏
2. 点击 "一键导入" 按钮
3. 游戏将自动导入到您的游戏库

**图片加载说明**：
- 社区游戏中的图片使用图床链接
- 导入时无需重新上传图片
- 图片直接从图床加载，快速且高效
- 确保网络连接正常以加载图片

**图片URL验证**：
- 系统会自动验证游戏数据中的图片URL
- 只支持 http:// 和 https:// 协议
- 支持的图片格式：JPG、PNG、WebP、GIF、BMP、SVG
- 无效的图片URL会在导入时显示错误信息

### 7.2 导出游戏

#### 7.2.1 导出单个游戏

1. 在游戏库中选择游戏
2. 点击 "导出" 按钮
3. 选择导出格式
4. 保存文件到本地

#### 7.2.2 批量导出

1. 选择多个游戏
2. 点击 "批量导出" 按钮
3. 系统将生成一个 ZIP 文件
4. 保存文件到本地

#### 7.2.3 导出游戏包

1. 在工作室中选择项目
2. 点击 "导出游戏包"
3. 配置导出选项
4. 生成包含所有相关文件的 ZIP 包

## 8. 移动端使用

### 8.1 访问 Web 版本

1. 在移动浏览器中输入系统 URL
2. 登录您的账户
3. 使用触摸操作浏览和编辑游戏

### 8.2 安装 Android 应用

1. 从 Google Play 下载应用
2. 或从系统下载 APK 文件
3. 安装并打开应用
4. 登录您的账户

### 8.3 移动端功能

- ✅ 浏览和玩游戏
- ✅ 创建和编辑游戏
- ✅ 导入导出游戏
- ✅ 资产管理
- ✅ 社区功能

### 8.4 移动端优化

- 响应式设计，适配不同屏幕尺寸
- 触摸友好的操作界面
- 离线支持（部分功能）
- 优化的性能

## 9. 社区功能

### 9.1 评论和评分

1. 在游戏详情页滚动到底部
2. 输入评论内容
3. 给游戏评分（1-5 星）
4. 点击 "发布评论"

### 9.2 关注作者

1. 在作者页面点击 "关注"
2. 接收作者的最新动态
3. 在 "关注" 页面查看关注的作者

### 9.3 分享游戏

1. 在游戏详情页点击 "分享" 按钮
2. 选择分享方式
3. 分享游戏链接给朋友

## 10. 常见问题

### 10.1 注册和登录

**问题**：无法登录怎么办？

**解决方案**：
1. 检查用户名/邮箱和密码是否正确
2. 尝试使用 "忘记密码" 功能重置密码
3. 检查网络连接
4. 联系管理员

### 10.2 游戏编辑

**问题**：编辑器崩溃了怎么办？

**解决方案**：
1. 刷新页面
2. 检查浏览器控制台是否有错误
3. 清除浏览器缓存
4. 尝试使用其他浏览器

### 10.3 导入导出

**问题**：无法导入游戏怎么办？

**解决方案**：
1. 检查文件格式是否正确（JSON 或 ZIP）
2. 检查文件大小是否超过限制
3. 检查文件内容是否符合游戏格式要求
4. 查看详细错误信息

**问题**：导出的游戏无法导入怎么办？

**解决方案**：
1. 检查导出格式是否正确
2. 确保文件没有损坏
3. 尝试重新导出
4. 联系技术支持

### 10.4 移动端问题

**问题**：移动端应用崩溃怎么办？

**解决方案**：
1. 关闭并重新打开应用
2. 检查应用更新
3. 清除应用缓存
4. 重新安装应用

### 10.5 图片上传和图床

**问题**：图片上传失败怎么办？

**解决方案**：
1. 检查图片格式是否支持（JPG、PNG、WebP、GIF）
2. 检查图片大小是否超过限制（最大 10MB）
3. 检查网络连接是否正常
4. 尝试使用其他图片

**问题**：图片上传后无法显示怎么办？

**解决方案**：
1. 检查图床服务是否正常运行
2. 刷新页面重新加载图片
3. 检查浏览器控制台是否有错误
4. 联系技术支持

**问题**：为什么相同的图片不会重复上传？

**解决方案**：
- 系统使用文件哈希值检测重复图片
- 相同的图片会自动使用缓存
- 这样可以节省存储空间和上传时间

**问题**：导入游戏时提示图片URL无效怎么办？

**解决方案**：
1. 检查URL格式是否正确（http:// 或 https://）
2. 检查URL是否可以正常访问
3. 检查图片格式是否支持
4. 联系游戏作者确认图片链接

### 10.6 性能问题

**问题**：系统运行缓慢怎么办？

**解决方案**：
1. 关闭不必要的浏览器标签
2. 清除浏览器缓存
3. 检查网络连接
4. 尝试使用其他设备

## 11. 联系我们

如果您在使用过程中遇到任何问题或有任何建议，请联系我们：

- **邮箱**：support@yourdomain.com
- **社区论坛**：https://forum.yourdomain.com
- **帮助中心**：https://help.yourdomain.com

## 12. 图床服务

### 12.1 什么是图床服务？

图床服务是一个专业的图片托管平台，用于存储和管理游戏中的图片资源。系统集成了 ImgBB 图床服务，为用户提供稳定、快速的图片存储和访问体验。

### 12.2 图床服务的优势

- **节省存储空间**：图片存储在云端，不占用本地服务器空间
- **快速加载**：使用 CDN 加速，图片加载速度更快
- **自动优化**：系统自动压缩和优化图片，减少加载时间
- **缓存机制**：相同图片不会重复上传，节省带宽和时间
- **高可用性**：专业的图床服务保证图片的高可用性

### 12.3 图床服务使用流程

#### 12.3.1 上传图片到图床

1. 在游戏编辑器或文件上传组件中选择图片
2. 系统自动验证图片格式和大小
3. 图片经过优化和压缩处理
4. 自动上传到 ImgBB 图床
5. 系统保存图片链接供游戏使用

**上传进度显示**：
- 系统会实时显示上传进度
- 进度条显示当前上传百分比
- 支持取消上传操作

#### 12.3.2 图片缓存机制

系统使用智能缓存机制，避免重复上传相同图片：

- **文件哈希检测**：系统计算图片的哈希值
- **缓存查询**：上传前检查缓存中是否已存在
- **自动复用**：如果图片已存在，直接使用缓存链接
- **缓存管理**：自动清理过期缓存，释放存储空间

**缓存优势**：
- 节省上传时间
- 减少带宽消耗
- 提升用户体验

#### 12.3.3 图片优化

系统在上传前自动优化图片：

- **格式转换**：自动转换为 WebP 格式（节省 25-35% 空间）
- **智能压缩**：保持图片质量的同时减小文件大小
- **尺寸调整**：根据需要调整图片尺寸
- **缩略图生成**：自动生成缩略图用于快速预览

### 12.4 游戏发布和图床

#### 12.4.1 发布游戏到社区

当您发布游戏到社区时，系统会：

1. 检查游戏中的所有图片
2. 确保所有图片都已上传到图床
3. 在社区中只保存图片的图床链接
4. 其他用户导入游戏时直接从图床加载图片

**优势**：
- 社区存储空间更小
- 图片加载速度更快
- 减少服务器负担

#### 12.4.2 从社区导入游戏

当您从社区导入游戏时：

1. 系统解析游戏数据中的图片链接
2. 验证图片链接的有效性和可访问性
3. 直接从图床加载图片，无需重新上传
4. 游戏可以立即使用，无需等待图片上传

**注意事项**：
- 确保网络连接正常
- 图床服务必须可用
- 无效的图片链接会显示错误信息

### 12.5 图床服务限制

#### 12.5.1 文件大小限制

- 单个图片最大 10MB
- 系统会自动压缩大图片
- 超过限制的图片无法上传

#### 12.5.2 文件格式限制

支持的图片格式：
- JPEG (.jpg, .jpeg)
- PNG (.png)
- WebP (.webp)
- GIF (.gif)
- BMP (.bmp)
- TIFF (.tiff)

不支持的格式：
- RAW 格式
- PSD 格式
- AI 格式

#### 12.5.3 上传频率限制

为防止滥用，系统实施了上传频率限制：

- 每分钟最多上传 10 张图片
- 超过限制会提示稍后再试
- 限制按 IP 地址计算

### 12.6 降级机制

当图床服务不可用时，系统会自动降级到本地存储：

1. 检测到图床上传失败
2. 自动切换到本地存储
3. 图片保存到服务器本地目录
4. 使用本地 URL 代替图床 URL

**降级触发条件**：
- 图床服务 API 不可用
- 网络连接问题
- API 密钥配置错误
- 上传频率超限

### 12.7 常见问题

**问题**：图片上传失败怎么办？

**解决方案**：
1. 检查图片格式是否支持
2. 检查图片大小是否超过限制
3. 检查网络连接是否正常
4. 等待一段时间后重试（可能触发了频率限制）
5. 联系技术支持

**问题**：为什么相同的图片不会重复上传？

**解决方案**：
- 系统使用文件哈希值检测重复图片
- 相同的图片会自动使用缓存
- 这样可以节省存储空间和上传时间

**问题**：导入游戏时提示图片URL无效怎么办？

**解决方案**：
1. 检查URL格式是否正确（http:// 或 https://）
2. 检查URL是否可以正常访问
3. 检查图片格式是否支持
4. 联系游戏作者确认图片链接

**问题**：图片上传后无法显示怎么办？

**解决方案**：
1. 检查图床服务是否正常运行
2. 刷新页面重新加载图片
3. 检查浏览器控制台是否有错误
4. 联系技术支持

**问题**：如何查看图片是否使用了图床？

**解决方案**：
- 图床链接通常包含 "imgbb.com" 域名
- 本地图片链接通常是相对路径
- 可以在游戏数据中查看图片 URL

**问题**：上传频率限制是多少？

**解决方案**：
- 每分钟最多上传 10 张图片
- 限制按 IP 地址计算
- 超过限制需要等待 1 分钟

## 13. 更新日志

### v1.1.0 (2026-01-11)

- 新增图床服务集成（ImgBB）
- 优化图片上传和缓存机制
- 添加图片自动优化功能
- 改进游戏导入导出流程
- 添加图片URL验证功能
- 实现上传频率限制
- 添加降级机制
- 更新用户指南

### v1.0.0 (2026-01-11)

- 新增跨平台导入导出功能
- 优化移动端体验
- 添加增强编辑器
- 完善社区功能
- 修复已知问题

### v0.9.0

- 新增工作室功能
- 添加版本控制
- 优化游戏引擎
- 改进用户界面

### v0.8.0

- 初始发布
- 基本游戏编辑功能
- 游戏库和社区功能
- Web 端支持

---

**最后更新**: 2026-01-11

© 2026 互动式故事游戏系统